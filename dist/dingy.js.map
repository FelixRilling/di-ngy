{"version":3,"file":"dingy.js","sources":["esm/src/config/config.default.js","esm/src/di.js","esm/src/fileStreamAppender.js","esm/src/logger.js","esm/src/message/createSlimMessage.js","esm/src/command/core/echo.js","esm/src/command/core/help.js","esm/src/command/core/stop.js","esm/src/command/commands.default.js","esm/src/role/hasEnoughPower.js","esm/src/message/MessageSenderService.js","../node_modules/cli-ngy/dist/esm/src/lookup/result/LookupResult.js","esm/src/message/MessageReceiverService.js","esm/src/storage/JSONStorage.js","esm/src/storage/MemoryStorage.js","esm/src/Dingy.js"],"sourcesContent":["/**\n * Default role for every user.\n *\n * @public\n */\nconst DEFAULT_ROLE = {\n    power: 0,\n    check: () => true\n};\n/**\n * Default config settings.\n *\n * @private\n */\nconst DEFAULT_CONFIG = {\n    prefix: \"$\",\n    roles: [DEFAULT_ROLE],\n    enableDefaultCommands: true,\n    answerToMissingCommand: false,\n    answerToMissingArgs: true,\n    answerToMissingPerms: true,\n    strings: {\n        error: {\n            notFound: \"The command was not found: \",\n            missingArgs: \"Missing required argument(s): \",\n            noPermission: \"You do not have the permissions to use this command.\",\n            invalidDMCall: \"This command cannot be used in DMs.\"\n        },\n        response: {\n            empty: \"Empty response.\",\n            tooLong: \"The output was too long to send.\"\n        },\n        separator: \"-\".repeat(9)\n    },\n    clingy: {\n        caseSensitive: false,\n        // tslint:disable-next-line:quotemark\n        legalQuotes: ['\"']\n    }\n};\nexport { DEFAULT_CONFIG, DEFAULT_ROLE };\n//# sourceMappingURL=config.default.js.map","import { Chevron } from \"chevronjs\";\n/**\n * Dingy chevron instance.\n *\n * @public\n */\nconst dingyChevron = new Chevron();\nvar DingyDiKeys;\n(function (DingyDiKeys) {\n    DingyDiKeys[\"CLASS\"] = \"_DINGY\";\n    DingyDiKeys[\"COMMANDS\"] = \"_DINGY_COMMANDS\";\n})(DingyDiKeys || (DingyDiKeys = {}));\nexport { dingyChevron, DingyDiKeys };\n//# sourceMappingURL=di.js.map","import { createWriteStream, ensureFile } from \"fs-extra\";\nimport { isObject } from \"lightdash\";\nimport { createDefaultLogPrefix } from \"logby/src/appender/defaultLoggingAppender\";\n/**\n * helper method converting an array of arbitrary values to a string which can be logged.\n *\n * @private\n * @param args Arguments to stringify.\n * @returns String containing stringified arguments.\n */\nconst stringifyArgs = (args) => args.map(val => {\n    if (isObject(val)) {\n        return JSON.stringify(val);\n    }\n    return val;\n}).join(\" \");\n/**\n * Logby appender streaming the output to a file on the disk.\n *\n * @private\n * @param path Path to use for the file, will be created if it does not exist.\n * @returns File stream appender.\n */\nconst createFileStreamAppender = async (path) => {\n    await ensureFile(path);\n    const writeStream = createWriteStream(path); //TODO find a way to properly close the stream on shutdown\n    return (name, level, args) => {\n        writeStream.write(`${createDefaultLogPrefix(name, level)} - ${stringifyArgs(args)}\\n`);\n    };\n};\nexport { createFileStreamAppender };\n//# sourceMappingURL=fileStreamAppender.js.map","import { clingyLogby } from \"cli-ngy\";\nimport { createDelegatingAppender, defaultLoggingAppender, Logby } from \"logby\";\nimport { createFileStreamAppender } from \"./fileStreamAppender\";\nconst logFilePath = `./log/bot_${Date.now()}.log`;\n/**\n * Logby instance used by Di-ngy.\n *\n * @public\n */\nconst dingyLogby = new Logby();\ncreateFileStreamAppender(logFilePath)\n    .then(fileStreamAppender => dingyLogby.appenders.add(fileStreamAppender))\n    .catch(console.error);\nclingyLogby.appenders.add(createDelegatingAppender(dingyLogby));\nclingyLogby.appenders.delete(defaultLoggingAppender);\nexport { dingyLogby };\n//# sourceMappingURL=logger.js.map","/**\n * Helper function which creates a slim, printable version of a message.\n *\n * @private\n */\nconst createSlimMessage = (msg) => {\n    return {\n        author: { username: msg.author.username, id: msg.author.id },\n        content: msg.content\n    };\n};\nexport { createSlimMessage };\n//# sourceMappingURL=createSlimMessage.js.map","/**\n * Built-in \"echo\" command.\n *\n * @private\n */\nconst echo = {\n    alias: [\"say\", \"send\"],\n    args: [\n        {\n            name: \"val\",\n            required: true\n        }\n    ],\n    sub: null,\n    data: {\n        powerRequired: 8,\n        hidden: true,\n        usableInDMs: true,\n        help: \"Echoes a text.\"\n    },\n    fn: (args) => args.get(\"val\")\n};\nexport { echo };\n//# sourceMappingURL=echo.js.map","import { stringify } from \"yamljs\";\n/**\n * @private\n */\nconst createSlimCommandTree = (map) => {\n    const result = {};\n    map.forEach((command, key) => {\n        if (!command.data.hidden) {\n            result[key] = createSlimCommand(command);\n        }\n    });\n    return result;\n};\n/**\n * @private\n */\nconst createSlimCommand = (command, showDetails = false) => {\n    const result = {\n        desc: command.data.help\n    };\n    if (showDetails) {\n        result.powerRequired = command.data.powerRequired;\n        result.usableInDMs = command.data.usableInDMs;\n        if (command.args.length > 0) {\n            result.args = command.args;\n        }\n        if (command.alias.length > 0) {\n            result.alias = command.alias;\n        }\n    }\n    if (command.sub != null) {\n        result.sub = Array.from(command.sub.map.keys());\n    }\n    return result;\n};\n/**\n * @private\n */\nconst showDetailHelp = (dingy, clingy, argsAll) => {\n    const lookupResult = clingy.getPath(argsAll);\n    // prematurely assume success to combine hidden + success check.\n    const command = lookupResult.command;\n    if (!lookupResult.successful || command.data.hidden) {\n        return {\n            val: `Command '${argsAll.join(\"->\")}' does not exist.`,\n            code: true\n        };\n    }\n    return {\n        val: [\n            `Help: '${lookupResult.pathUsed.join(\"->\")}'`,\n            dingy.config.strings.separator,\n            stringify(createSlimCommand(command, true))\n        ].join(\"\\n\"),\n        code: \"yaml\"\n    };\n};\n/**\n * @private\n */\nconst showGeneralHelp = (dingy, clingy) => {\n    return {\n        val: [\n            \"Help\",\n            dingy.config.strings.separator,\n            stringify(createSlimCommandTree(clingy.map))\n        ].join(\"\\n\"),\n        code: \"yaml\"\n    };\n};\n/**\n * Built-in \"help\" command.\n *\n * @private\n */\nconst help = {\n    alias: [\"manual\", \"?\"],\n    args: [],\n    sub: null,\n    data: {\n        powerRequired: 0,\n        hidden: false,\n        usableInDMs: true,\n        help: \"Shows the help page.\"\n    },\n    fn: (args, argsAll, msg, dingy, clingy) => argsAll.length > 0\n        ? showDetailHelp(dingy, clingy, argsAll)\n        : showGeneralHelp(dingy, clingy)\n};\nexport { help };\n//# sourceMappingURL=help.js.map","const EXIT_CODE_STOP = 10;\n/**\n * Built-in \"stop\" command.\n *\n * @private\n */\nconst stop = {\n    alias: [\"die\", \"shutdown\"],\n    args: [],\n    sub: null,\n    data: {\n        powerRequired: 10,\n        hidden: true,\n        usableInDMs: true,\n        help: \"Stops the bot.\"\n    },\n    fn: (args, argsAll, msg, dingy) => {\n        dingy.client.setTimeout(async () => {\n            await dingy.disconnect();\n            process.exit(EXIT_CODE_STOP);\n        }, 1000);\n        return \"Stopping...\";\n    }\n};\nexport { stop };\n//# sourceMappingURL=stop.js.map","import { echo } from \"./core/echo\";\nimport { help } from \"./core/help\";\nimport { stop } from \"./core/stop\";\n/**\n * Default commands.\n *\n * @private\n */\nconst DEFAULT_COMMANDS = {\n    echo,\n    stop,\n    help\n};\nexport { DEFAULT_COMMANDS };\n//# sourceMappingURL=commands.default.js.map","/**\n * Helper function checking role access.\n *\n * @private\n */\nconst hasEnoughPower = (msg, powerRequired, roles) => {\n    for (const role of roles) {\n        if (role.power >= powerRequired && role.check(msg)) {\n            return true;\n        }\n    }\n    return false;\n};\nexport { hasEnoughPower };\n//# sourceMappingURL=hasEnoughPower.js.map","import { isNil, isPromise, isString } from \"lightdash\";\nimport { dingyChevron, DingyDiKeys } from \"../di\";\nimport { dingyLogby } from \"../logger\";\n/**\n * Handles sending messages.\n *\n * @private\n */\nclass MessageSenderService {\n    constructor(dingy) {\n        this.dingy = dingy;\n    }\n    /**\n     * Sends a result as response.\n     *\n     * @param msg Message to respond to.\n     * @param value Value to send.\n     */\n    sendResult(msg, value) {\n        if (isPromise(value)) {\n            MessageSenderService.logger.debug(\"Value is a promise, waiting.\");\n            value\n                .then(valueResolved => this.send(msg, valueResolved))\n                .catch(err => MessageSenderService.logger.error(\"Error while waiting for resolve: \", err));\n        }\n        else {\n            this.send(msg, value);\n        }\n    }\n    send(msg, value) {\n        MessageSenderService.logger.trace(\"Preparing sending of message.\", {\n            value\n        });\n        const isPlainValue = isString(value);\n        const options = {\n            code: isPlainValue ? false : value.code,\n            files: isPlainValue ? [] : value.files\n        };\n        const content = this.determineContent(value, isPlainValue);\n        MessageSenderService.logger.debug(\"Sending message.\", {\n            content,\n            options\n        });\n        msg.channel\n            .send(content, options)\n            .then(sentMsg => {\n            if (!isPlainValue && !isNil(value.onSend)) {\n                value.onSend(sentMsg);\n            }\n            MessageSenderService.logger.debug(\"Sent message.\", {\n                content,\n                options\n            });\n        })\n            .catch(err => MessageSenderService.logger.error(\"Could not send message.\", err));\n    }\n    determineContent(value, isPlainValue) {\n        let content = isPlainValue\n            ? value\n            : value.val;\n        if (content.length > MessageSenderService.MAX_LENGTH) {\n            MessageSenderService.logger.warn(\"Message is too long to send:\", content);\n            return this.dingy.config.strings.response.tooLong;\n        }\n        if (content.length === 0) {\n            MessageSenderService.logger.warn(\"Message is empty.\");\n            return this.dingy.config.strings.response.empty;\n        }\n        return content;\n    }\n}\nMessageSenderService.logger = dingyLogby.getLogger(MessageSenderService);\nMessageSenderService.MAX_LENGTH = 2000;\ndingyChevron.set(\"factory\" /* FACTORY */, [DingyDiKeys.CLASS], MessageSenderService);\nexport { MessageSenderService };\n//# sourceMappingURL=MessageSenderService.js.map","var ResultType;\n(function (ResultType) {\n    ResultType[ResultType[\"SUCCESS\"] = 0] = \"SUCCESS\";\n    ResultType[ResultType[\"ERROR_NOT_FOUND\"] = 1] = \"ERROR_NOT_FOUND\";\n    ResultType[ResultType[\"ERROR_MISSING_ARGUMENT\"] = 2] = \"ERROR_MISSING_ARGUMENT\";\n})(ResultType || (ResultType = {}));\nexport { ResultType };\n//# sourceMappingURL=LookupResult.js.map","import { Clingy } from \"cli-ngy\";\nimport { DMChannel } from \"discord.js\";\nimport { isInstanceOf, isRegExp, objDefaultsDeep } from \"lightdash\";\nimport { DEFAULT_COMMANDS } from \"../command/commands.default\";\nimport { dingyChevron, DingyDiKeys } from \"../di\";\nimport { dingyLogby } from \"../logger\";\nimport { hasEnoughPower } from \"../role/hasEnoughPower\";\nimport { createSlimMessage } from \"./createSlimMessage\";\nimport { MessageSenderService } from \"./MessageSenderService\";\nimport { ResultType } from \"cli-ngy/dist/esm/src/lookup/result/LookupResult\";\n/**\n * Handles resolving messages.\n *\n * @private\n */\nclass MessageReceiverService {\n    /**\n     * Creates a new MessageReceiverService\n     *\n     * @param dingy Dingy instance this service belongs to.\n     * @param commands Command object.\n     */\n    constructor(dingy, commands) {\n        this.dingy = dingy;\n        this.clingy = new Clingy(dingy.config.enableDefaultCommands\n            ? objDefaultsDeep(commands, DEFAULT_COMMANDS)\n            : commands, this.dingy.config.clingy);\n        this.messageSenderService = new MessageSenderService(dingy);\n    }\n    static matchesPrefix(content, prefix) {\n        return isRegExp(prefix)\n            ? prefix.test(content)\n            : content.startsWith(prefix) && content !== prefix;\n    }\n    static getContentWithoutPrefix(content, prefix) {\n        return isRegExp(prefix)\n            ? content.replace(prefix, \"\")\n            : content.substr(prefix.length);\n    }\n    /**\n     * Handle an incoming message.\n     *\n     * @param msg Discord message to process.\n     */\n    handleMessage(msg) {\n        if (msg.system && msg.author.bot) {\n            MessageReceiverService.logger.trace(\"Message is from the system or a bot, will be skipped.\", createSlimMessage(msg));\n            return;\n        }\n        if (!MessageReceiverService.matchesPrefix(msg.content, this.dingy.config.prefix)) {\n            MessageReceiverService.logger.trace(\"Message does not match prefix, will be skipped.\", createSlimMessage(msg));\n            return;\n        }\n        const msgContent = MessageReceiverService.getContentWithoutPrefix(msg.content, this.dingy.config.prefix);\n        MessageReceiverService.logger.debug(\"Parsing content.\", createSlimMessage(msg));\n        const lookupResult = this.clingy.parse(msgContent);\n        MessageReceiverService.logger.trace(\"Parsed content.\", lookupResult);\n        if (lookupResult.type === ResultType.ERROR_NOT_FOUND) {\n            const lookupResultNotFound = lookupResult;\n            MessageReceiverService.logger.debug(`Command not found: ${lookupResultNotFound.missing}.`);\n            this.handleLookupNotFound(msg, lookupResultNotFound);\n        }\n        else if (lookupResult.type === ResultType.ERROR_MISSING_ARGUMENT) {\n            const lookupResultMissingArg = (lookupResult);\n            MessageReceiverService.logger.debug(`Argument missing: ${lookupResultMissingArg.missing}.`);\n            this.handleLookupMissingArg(msg, lookupResultMissingArg);\n        }\n        else if (lookupResult.type === ResultType.SUCCESS) {\n            const lookupResultSuccess = lookupResult;\n            MessageReceiverService.logger.trace(\"Lookup successful.\", lookupResultSuccess);\n            this.handleLookupSuccess(msg, lookupResultSuccess);\n        }\n        else {\n            MessageReceiverService.logger.error(\"Every check failed, this should never happen.\", lookupResult);\n        }\n    }\n    handleLookupNotFound(msg, lookupResultNotFound) {\n        if (this.dingy.config.answerToMissingCommand) {\n            MessageReceiverService.logger.debug(\"Answering to command not found.\");\n            this.messageSenderService.sendResult(msg, this.dingy.config.strings.error.notFound +\n                lookupResultNotFound.missing);\n        }\n    }\n    handleLookupMissingArg(msg, lookupResultMissingArg) {\n        if (this.dingy.config.answerToMissingArgs) {\n            MessageReceiverService.logger.debug(\"Answering to missing arg.\");\n            this.messageSenderService.sendResult(msg, this.dingy.config.strings.error.missingArgs +\n                lookupResultMissingArg.missing\n                    .map(arg => arg.name)\n                    .join(\", \"));\n        }\n    }\n    handleLookupSuccess(msg, lookupResultSuccess) {\n        const command = lookupResultSuccess.command;\n        if (isInstanceOf(msg.channel, DMChannel) && !command.data.usableInDMs) {\n            MessageReceiverService.logger.debug(\"Not usable in DMs.\");\n            this.messageSenderService.sendResult(msg, this.dingy.config.strings.error.invalidDMCall);\n            return;\n        }\n        if (!hasEnoughPower(msg, command.data.powerRequired, this.dingy.config.roles)) {\n            MessageReceiverService.logger.debug(\"No permissions.\");\n            this.messageSenderService.sendResult(msg, this.dingy.config.strings.error.noPermission);\n            return;\n        }\n        MessageReceiverService.logger.debug(\"Running command:\", command);\n        const result = command.fn(lookupResultSuccess.args, lookupResultSuccess.pathDangling, msg, this.dingy, this.clingy);\n        MessageReceiverService.logger.trace(\"Command returned:\", { result });\n        if (result == null) {\n            MessageReceiverService.logger.trace(\"Skipping response.\");\n            return;\n        }\n        MessageReceiverService.logger.debug(\"Answering to successful command.\", {\n            result\n        });\n        this.messageSenderService.sendResult(msg, result);\n    }\n}\nMessageReceiverService.logger = dingyLogby.getLogger(MessageReceiverService);\ndingyChevron.set(\"factory\" /* FACTORY */, [DingyDiKeys.CLASS, DingyDiKeys.COMMANDS], MessageReceiverService);\nexport { MessageReceiverService };\n//# sourceMappingURL=MessageReceiverService.js.map","import { pathExists, readJson, writeJson } from \"fs-extra\";\nimport { isNil } from \"lightdash\";\nimport { dingyLogby } from \"../logger\";\nconst SAVE_INTERVAL_MS = 60 * 1000; // 1min\n/**\n * IInitializableStorage implementation using JSON files to store data.\n *\n * @private\n */\nclass JSONStorage {\n    constructor(path) {\n        this.dirty = false;\n        this.saveInterval = null;\n        this.data = {};\n        this.path = path;\n    }\n    async init() {\n        const exists = await pathExists(this.path);\n        if (exists) {\n            JSONStorage.logger.trace(`JSON '${this.path}' exists, loading it.`);\n            this.data = await readJson(this.path);\n        }\n        else {\n            JSONStorage.logger.trace(`JSON '${this.path}' does not exist, loading it.`);\n            await writeJson(this.path, this.data);\n        }\n        this.saveInterval = setInterval(() => this.save(), SAVE_INTERVAL_MS);\n    }\n    set(key, val) {\n        this.data[key] = val;\n        this.dirty = true;\n    }\n    get(key) {\n        return this.data[key];\n    }\n    has(key) {\n        return !isNil(this.data[key]);\n    }\n    save() {\n        if (!this.dirty) {\n            JSONStorage.logger.trace(\"JSON was not changed, not saving it.\");\n        }\n        else {\n            JSONStorage.logger.trace(\"JSON was changed, attempting to save it.\");\n            this.dirty = false;\n            // We don't need to wait for the saving to finish\n            // this *could* lead to locking/access issues but hey, probably works.\n            writeJson(this.path, this.data)\n                .then(() => JSONStorage.logger.trace(`Saved JSON '${this.path}'.`))\n                .catch(e => JSONStorage.logger.error(`Could not save JSON '${this.path}'.`, e));\n        }\n    }\n}\nJSONStorage.logger = dingyLogby.getLogger(JSONStorage);\nexport { JSONStorage };\n//# sourceMappingURL=JSONStorage.js.map","/**\n * IStorage implementation using a simple map to store data.\n *\n * @private\n */\nclass MemoryStorage {\n    constructor() {\n        this.data = new Map();\n    }\n    set(key, val) {\n        this.data.set(key, val);\n    }\n    get(key) {\n        return this.data.get(key);\n    }\n    has(key) {\n        return this.data.has(key);\n    }\n}\nexport { MemoryStorage };\n//# sourceMappingURL=MemoryStorage.js.map","import { Client } from \"discord.js\";\nimport { isNil, objDefaultsDeep } from \"lightdash\";\nimport * as path from \"path\";\nimport { DEFAULT_CONFIG } from \"./config/config.default\";\nimport { dingyChevron, DingyDiKeys } from \"./di\";\nimport { dingyLogby } from \"./logger\";\nimport { createSlimMessage } from \"./message/createSlimMessage\";\nimport { MessageReceiverService } from \"./message/MessageReceiverService\";\nimport { JSONStorage } from \"./storage/JSONStorage\";\nimport { MemoryStorage } from \"./storage/MemoryStorage\";\n/**\n * Main Dingy class.\n *\n * @public\n */\nclass Dingy {\n    /**\n     * Creates a new Dingy instance.\n     *\n     * @param {object} commands Object containing commands for the bot to use.\n     * @param {object?} config Config object.\n     * @param {object?} memoryStorage Storage instance handling runtime data. Falls back to {@link MemoryStorage}.\n     * @param {object?} persistentStorage Storage instance handling persistent data; Falls back to {@link JSONStorage}.\n     */\n    constructor(commands, config = {}, memoryStorage, persistentStorage) {\n        Dingy.logger.info(\"Creating instance.\");\n        Dingy.logger.debug(\"Applying config.\");\n        this.config = objDefaultsDeep(config, DEFAULT_CONFIG);\n        Dingy.logger.info(\"Initializing Storage.\");\n        Dingy.logger.debug(\"Creating memory storage.\");\n        this.memoryStorage = isNil(memoryStorage)\n            ? new MemoryStorage()\n            : memoryStorage;\n        Dingy.logger.debug(\"Creating persistent storage.\");\n        this.persistentStorage = isNil(persistentStorage)\n            ? new JSONStorage(path.join(\"./\", Dingy.DATA_DIRECTORY, \"storage.json\"))\n            : persistentStorage;\n        Dingy.logger.debug(\"Initializing DI.\");\n        dingyChevron.set(\"plain\" /* PLAIN */, [], this, DingyDiKeys.CLASS);\n        dingyChevron.set(\"plain\" /* PLAIN */, [], commands, DingyDiKeys.COMMANDS);\n        Dingy.logger.debug(\"Creating MessageReceiverService.\");\n        this.messageReceiverService = dingyChevron.get(MessageReceiverService);\n        Dingy.logger.info(\"Creating Client.\");\n        this.client = new Client();\n        Dingy.logger.debug(\"Binding events.\");\n        this.bindEvents();\n        Dingy.logger.info(\"Created instance.\");\n    }\n    /**\n     * Connects the instance to the Discord API.\n     *\n     * @param {string} token API token.\n     */\n    async connect(token) {\n        Dingy.logger.debug(\"Initializing persistent storage.\");\n        try {\n            await this.persistentStorage.init();\n        }\n        catch (e) {\n            const err = e;\n            Dingy.logger.error(\"Could not init persistent storage: \", err);\n            throw err;\n        }\n        Dingy.logger.info(\"Connecting to the Discord API.\");\n        try {\n            await this.client.login(token);\n        }\n        catch (e) {\n            const err = e;\n            Dingy.logger.error(\"Could not connect to the Discord API.\", err);\n            throw err;\n        }\n        Dingy.logger.info(\"Connected.\");\n    }\n    /**\n     * Disconnects the instance from the Discord API.\n     */\n    async disconnect() {\n        Dingy.logger.info(\"Disconnecting from the Discord API.\");\n        try {\n            await this.client.destroy();\n        }\n        catch (e) {\n            const err = e;\n            Dingy.logger.error(\"Could not disconnect from the Discord API.\", err);\n            throw err;\n        }\n        Dingy.logger.info(\"Disconnected.\");\n    }\n    bindEvents() {\n        this.client.on(\"error\", err => Dingy.logger.error(\"An error occurred, trying to continue.\", err));\n        this.client.on(\"message\", msg => this.messageHandler(msg));\n    }\n    messageHandler(msg) {\n        Dingy.logger.trace(\"A message was sent.\", createSlimMessage(msg));\n        this.messageReceiverService.handleMessage(msg);\n    }\n}\nDingy.logger = dingyLogby.getLogger(Dingy);\nDingy.DATA_DIRECTORY = \"data\";\nexport { Dingy };\n//# sourceMappingURL=Dingy.js.map"],"names":["Chevron","isObject","ensureFile","createWriteStream","createDefaultLogPrefix","Logby","clingyLogby","createDelegatingAppender","defaultLoggingAppender","stringify","isPromise","isString","isNil","Clingy","objDefaultsDeep","isRegExp","isInstanceOf","DMChannel","pathExists","readJson","writeJson","path.join","Client"],"mappings":"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"}